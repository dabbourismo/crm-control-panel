@model CRM.MVC.ViewModels.DashboardDto
@{
    ViewBag.Title = "الاحصائيات";
}

<div class="gradient-Header animate__animated animate__fadeInLeft">
    <div class="gradient-child">
        <h1>شاشة الحسحس المفضلة</h1>
    </div>
</div>

@using (Html.BeginForm("DashboardIndex", "Dashboard", FormMethod.Post))
{
    <div class="row" style="text-align:right;direction:rtl;font-family:Tajawal;margin-top:15px;">
        <div class="col-md-5">
            <div class="form-group form-inline">
                <div class="col-md-1">
                    @Html.LabelFor(model => model.FromDate, new { @class = "control-label" })
                </div>
                <div class="col-md-11">
                    @Html.EditorFor(model => model.FromDate,
                   new
                   {
                       htmlAttributes = new
                       {
                           @class = "form-control",
                           style = "width:100%"
                       }
                   })
                    @Html.ValidationMessageFor(model => model.FromDate)
                </div>
            </div>
        </div>

        <div class="col-md-5">
            <div class="form-group form-inline">
                <div class="col-md-1">
                    @Html.LabelFor(model => model.ToDate, new { @class = "control-label" })
                </div>
                <div class="col-md-11">
                    @Html.EditorFor(model => model.ToDate,
                   new
                   {
                       htmlAttributes = new
                       {
                           @class = "form-control",
                           style = "width:100%"
                       }
                   })
                    @Html.ValidationMessageFor(model => model.ToDate)
                </div>
            </div>
        </div>

        <div class="col-md-2">
            <div class="form-group">
                <input type="submit" id="SearchButton" value="بحث" class="btn btn-success" style="width:100%" />
            </div>
        </div>
    </div>

    <div class="row" style="direction:rtl;font-family:Tajawal;text-align:right;">

        <div class="col-md-3" style="background-color:#2c4375;border-radius:20px;padding:2px;">
            <p>
                <h2 style="color:white">عدد العملاء</h2>
                <h3 style="color:white">@Model.NumberOfClients</h3>
            </p>
        </div>
        <div class="col-md-3" style="background-color:#2c4375;border-radius:20px;padding:2px;">
            <p>
                <h2 style="color:white">صادر الاوردرات</h2>
                <h3 style="color:white">@Model.TotalOrderOutcome</h3>
            </p>
        </div>
        <div class="col-md-3" style="background-color:#2c4375;border-radius:20px;padding:2px;">
            <p>
                <h2 style="color:white">وارد الاوردرات</h2>
                <h3 style="color:white">@Model.TotalOrderIncome</h3>
            </p>
        </div>

        <div class="col-md-3" style="background-color:#2c4375;border-radius:20px;padding:2px;">
            <p>
                <h2 style="color:white">عدد الاوردرات</h2>
                <h3 style="color:white">@Model.NumberOfOrders</h3>
            </p>
        </div>
    </div>

    <br />
    <div class="row" style="direction:rtl;font-family:Tajawal;text-align:right;">
        <div class="col-md-6" style="background-color:white ;text-align:center;border-radius:20px;">
            <h1 style="color:royalblue">سوشيال</h1>
            <hr />
            <p>
                وارد السوشيال ميديا الكلي<br />
                @Model.SocialMediaIncome
            </p>
            <p>
                مصاريف تمويل<br />
                @Model.SocialMediaFinanceOutcome
            </p>
            <p>
                مصاريف خدمة<br />
                @Model.SocialMediaOrderExpenseOutcome
            </p>
            <p>
                عمولات<br />
                @Model.SocialMediaComissionOutcome
            </p>
            <p style="color:crimson">
                مجموع المصروفات<br />
                @Model.SocialMediaTotalOutcome
            </p>
            <p>
                <h1 style="color:forestgreen">الربح</h1>
                <h2 style="color:forestgreen">
                    @Model.SocialMediaRevenue
                </h2>
            </p>
        </div>
        <div class="col-md-6" style="background-color:white;text-align:center;border-radius:20px;">
            <h1 style="color:purple">برمجة</h1>
            <hr />
            <p>
                وارد البرمجه الكلي<br />
                @Model.ProgramingIncome
            </p>
            <p>
                مصاريف تمويل<br />
                @Model.ProgramingFinanceOutcome
            </p>
            <p>
                مصاريف خدمة<br />
                @Model.ProgramingExpenseOutcome
            </p>
            <p>
                عمولات<br />
                @Model.ProgramingComissionOutcome
            </p>
            <p style="color:crimson">
                مجموع المصروفات<br />
                @Model.ProgramingTotalOutcome
            </p>

            <p>
                <h1 style="color:forestgreen">الربح</h1>
                <h2 style="color:forestgreen">
                    @Model.ProgramingRevenue
                </h2>
            </p>
        </div>
    </div>


    <br />


    <div class="row" style="direction:rtl;font-family:Tajawal;text-align:right;">
        <div class="col-md-1"></div>

        <div class="col-md-5" style="background-color:lightcoral;border-radius:20px;margin-right:2px;">
            <p>
                <h1 style="color:white">مصروفات الشركة</h1>
                <h2 style="color:white">@Model.TotalCompanyExpenses</h2>
            </p>
        </div>

        <div class="col-md-5" style="background-color:seagreen;border-radius:20px;margin-left:2px;">
            <p>
                <h1 style="color:white">ربح الاوردرات</h1>
                <h2 style="color:white">@Model.TotalOrderRevenue</h2>
            </p>
        </div>
        <div class="col-md-1"></div>
    </div>
    <br />
    <div class="row"
         style="direction:rtl;font-family:Tajawal;text-align:right;animation-name:rainbowAnimation2">
        <div class="col-md-12" style="background-color:#b284be;border-radius:20px;">
            <p>
                <h1 style="color:white">ربح الشركه الكلي</h1>
                <h2 style="color:white">@Model.TotalCompanyRevenue</h2>
            </p>
        </div>
    </div>
    <br />
    <div class="row" >
        @*<div class="col-md-6">
            <div id="pieContainer"></div>
        </div>*@
        <div class="col-md-12">
            <div id="lineContainer"></div>
        </div>
    </div>




}




@section scripts{
    <script>
         $(function () {
             var chart = new CanvasJS.Chart("pieContainer", {
            title: {
                text: "مقارنة ربح البرمجة والسوشيال ميديا",
                fontFamily:"Tajawal"
            },
            animationEnabled: true,
            legend: {
                verticalAlign: "center",
                horizontalAlign: "left",
                fontSize: 20,
                fontFamily: "Tajawal"
            },
            theme: "light2",
            data: [
            {
                type: "pie",
                indexLabelFontFamily: "Garamond",
                indexLabelFontSize: 20,
                indexLabel: "{label} {y}%",
                startAngle: -20,
                showInLegend: true,
                toolTipContent: "{legendText} {y}%",
                dataPoints: [
                    { y:  @Model.ProgramingRevenue, legendText: "البرمجة", label: "البرمجة" },
                    { y:  @Model.SocialMediaRevenue, legendText: "السوشيال", label: "السوشيال" },
                ],

                //You can add dynamic data from the controller as shown below. Check the controller and uncomment the line which generates dataPoints.
                //dataPoints: @Html.Raw(ViewBag.DataPoints),
            }
            ]
        });
        chart.render();
        });

        $(function () {
            var chart = new CanvasJS.Chart("lineContainer", {
        			theme: "light2",
        			animationEnabled: true,
                title: {
                    text: " مقارنة ربح البرمجة والسوشيال ميديا",
                    fontFamily: "Tajawal"
                },
        			data: [
        			{
        				type: "column", //change type to bar, line, area, pie, etc
        				dataPoints: [
        				{ x: 40, y: @Model.ProgramingRevenue },
        				{ x: 80, y: @Model.SocialMediaRevenue },
        				],
        			}
        			]
        		});
        		chart.render();
        	});
    </script>
    <script>
        AnimateButton2('SearchButton');
    </script>
}
